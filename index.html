<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Exploree — World Explorer</title>
  <meta name="description" content="A pixel-perfect W3Schools-style template adapted for a Travel website. Single-file build with HTML+CSS+JS." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%2304AA6D'/><path d='M20 60 L50 20 L80 60 M50 35 L50 80' stroke='white' stroke-width='8' fill='none' stroke-linecap='round'/></svg>">
  <style>
    /* =============================================================
       W3Schools-INSPIRED RESET & VARIABLES (pixel-close styling)
       ============================================================= */
    :root {
      --w3-green: #04AA6D;
      --w3-dark-green: #038d5b;
      --w3-black: #000;
      --w3-white: #fff;
      --w3-gray-100: #f1f1f1;
      --w3-gray-200: #e7e9eb;
      --w3-gray-300: #d9d9d9;
      --w3-gray-600: #777;
      --w3-gray-700: #555;
      --w3-code-bg: #f8f8f8;
      --shadow-sm: 0 1px 2px rgba(0,0,0,.06);
      --shadow-md: 0 2px 6px rgba(0,0,0,.1);
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Verdana, sans-serif;
      color: #222;
      background: var(--w3-white);
    }

    a { color: inherit; }
    img { max-width: 100%; display: block; }
    button { font-family: inherit; }

    /* =============================================================
       TOP NAVBAR (matches W3Schools proportions, colors, hover)
       ============================================================= */
    .w3-topbar {
      position: sticky; top: 0; z-index: 1000;
      width: 100%;
      background: var(--w3-green);
      color: var(--w3-white);
      display: flex; align-items: stretch; gap: 0;
      box-shadow: var(--shadow-sm);
    }
    .w3-topbar .brand {
      display: flex; align-items: center; gap: 8px;
      padding: 12px 16px; font-weight: bold; font-size: 18px;
      white-space: nowrap;
    }
    .w3-topbar .brand svg { width: 20px; height: 20px; }

    .w3-nav {
      display: flex; align-items: stretch; flex: 1;
    }
    .w3-nav > a,
    .w3-nav > .dropdown > button {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 12px 16px; text-decoration: none; color: var(--w3-white);
      border: 0; background: transparent; cursor: pointer;
      font-size: 15px;
    }
    .w3-nav > a:hover,
    .w3-nav > .dropdown:hover > button,
    .w3-nav > .dropdown.open > button {
      background: #fff; color: #000;
    }

    .w3-search {
      margin-left: auto; display: flex; align-items: center; gap: 8px;
      padding: 8px 12px;
    }
    .w3-search input {
      border: none; outline: none; padding: 8px 10px; border-radius: 2px; width: 240px;
    }
    .w3-search .theme-toggle {
      border: 0; padding: 8px 10px; border-radius: 2px; cursor: pointer;
      background: rgba(255,255,255,.2); color: #fff; display: inline-flex; align-items: center; gap: 6px;
    }
    .w3-search .theme-toggle:hover { background: rgba(255,255,255,.3); }

    .hamburger {
      display: none; align-items: center; padding: 12px 16px; cursor: pointer; border: 0; background: transparent; color: #fff;
    }
    .hamburger:hover { background: rgba(255,255,255,.2); }

    /* Dropdown */
    .dropdown { position: relative; }
    .dropdown-menu {
      position: absolute; left: 0; top: 100%; min-width: 220px;
      background: #fff; color: #000; box-shadow: var(--shadow-md);
      display: none; flex-direction: column; border: 1px solid var(--w3-gray-300);
    }
    .dropdown.open .dropdown-menu { display: flex; }
    .dropdown-menu a { padding: 10px 14px; text-decoration: none; color: #000; }
    .dropdown-menu a:hover { background: var(--w3-gray-100); }

    /* =============================================================
       LAYOUT: SIDEBAR + CONTENT (W3Schools-like)
       ============================================================= */
    .layout {
      display: grid; grid-template-columns: 260px 1fr; gap: 0;
      min-height: calc(100vh - 50px);
    }
    .sidebar {
      background: var(--w3-gray-100);
      border-right: 1px solid var(--w3-gray-300);
      padding: 16px 0; position: sticky; top: 50px; height: calc(100vh - 50px);
      overflow: auto;
    }
    .sidebar h3 {
      font-size: 16px; margin: 8px 16px 10px; color: #000;
    }
    .side-link { display: block; padding: 8px 16px; color: #000; text-decoration: none; }
    .side-link:hover { background: #ddd; }
    .side-note { font-size: 12px; color: var(--w3-gray-700); padding: 4px 16px 12px; }

    /* Accordion (like W3 left menu) */
    .accordion { border-top: 1px solid var(--w3-gray-300); }
    .acc-header { cursor: pointer; padding: 10px 16px; display: flex; justify-content: space-between; align-items: center; }
    .acc-header:hover { background: #ddd; }
    .acc-body { display: none; padding: 6px 0 10px; }
    .acc-body a { display: block; padding: 6px 24px; text-decoration: none; color: #000; }
    .acc-body a:hover { background: #eee; }
    .accordion.open .acc-body { display: block; }

    /* Content area */
    .content {
      padding: 24px; background: var(--w3-white);
    }
    .breadcrumb { font-size: 12px; color: var(--w3-gray-700); margin-bottom: 12px; }
    .content h1 { font-size: 36px; margin: 10px 0; }
    .lead { color: var(--w3-gray-700); margin: 0 0 20px; }

    .grid {
      display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px;
    }
    .card {
      background: #fff; border: 1px solid var(--w3-gray-300); border-radius: 2px; box-shadow: var(--shadow-sm);
    }
    .card .card-header { padding: 14px 16px; border-bottom: 1px solid var(--w3-gray-300); font-weight: 600; }
    .card .card-body { padding: 16px; }

    /* W3 example/code blocks */
    .example {
      border-left: 4px solid var(--w3-green); background: #fff; border: 1px solid var(--w3-gray-300);
      margin: 18px 0; box-shadow: var(--shadow-sm);
    }
    .example .ex-header { background: var(--w3-gray-100); padding: 10px 12px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--w3-gray-300); }
    .example .ex-title { font-weight: 600; }
    .btn { border: 1px solid #ccc; background: #f9f9f9; padding: 8px 12px; cursor: pointer; }
    .btn:hover { background: #eee; }

    pre.code {
      margin: 0; padding: 14px 16px; background: var(--w3-code-bg); overflow: auto; font-family: Consolas, "Courier New", monospace; font-size: 13px;
    }

    .note { border-left: 4px solid #ffeb3b; background: #fffbe6; padding: 10px 12px; margin: 12px 0; }
    .warning { border-left: 4px solid #f44336; background: #ffeeee; padding: 10px 12px; margin: 12px 0; }
    .success { border-left: 4px solid #4caf50; background: #eef9f1; padding: 10px 12px; margin: 12px 0; }

    /* Pagination */
    .pagination { display: flex; gap: 6px; align-items: center; margin: 24px 0; }
    .pagination a { padding: 8px 12px; border: 1px solid var(--w3-gray-300); text-decoration: none; color: #000; }
    .pagination a.active { background: var(--w3-green); color: #fff; border-color: var(--w3-green); }
    .pagination a:hover { background: #eee; }

    /* Footer (W3-ish columns) */
    .footer { background: var(--w3-gray-100); border-top: 1px solid var(--w3-gray-300); }
    .footer-inner { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; padding: 24px; }
    .footer h4 { margin: 0 0 8px; font-size: 16px; }
    .footer a { display: block; color: #000; text-decoration: none; padding: 4px 0; font-size: 14px; }
    .footer a:hover { text-decoration: underline; }
    .footer-bottom { padding: 12px 24px; background: #ddd; font-size: 13px; color: #000; display: flex; justify-content: space-between; align-items: center; }

    /* Utility */
    .mt-0 { margin-top: 0; } .mt-8 { margin-top: 8px; } .mt-16 { margin-top: 16px; }
    .mb-0 { margin-bottom: 0; } .mb-8 { margin-bottom: 8px; } .mb-16 { margin-bottom: 16px; }
    .col-4 { grid-column: span 4; } .col-6 { grid-column: span 6; } .col-12 { grid-column: span 12; }

    /* Dark mode (toggle) */
    .dark body, body.dark {
      background: #121212; color: #eaeaea;
    }
    body.dark .w3-topbar { background: #0c7e56; color: #fff; }
    body.dark .w3-nav > a, body.dark .w3-nav > .dropdown > button { color: #fff; }
    body.dark .w3-nav > a:hover, body.dark .w3-nav > .dropdown:hover > button, body.dark .w3-nav > .dropdown.open > button { background: #fff; color: #000; }
    body.dark .sidebar { background: #1a1a1a; border-right-color: #333; }
    body.dark .side-link:hover, body.dark .acc-header:hover { background: #2a2a2a; }
    body.dark .card { background: #181818; border-color: #2c2c2c; }
    body.dark .example { background: #181818; border-color: #2c2c2c; }
    body.dark pre.code { background: #101010; color: #e0e0e0; }
    body.dark .footer { background: #1a1a1a; border-top-color: #2c2c2c; }
    body.dark .footer-bottom { background: #0e0e0e; color: #ccc; }

    /* Mobile */
    @media (max-width: 1100px) {
      .w3-search input { width: 160px; }
    }
    @media (max-width: 900px) {
      .layout { grid-template-columns: 1fr; }
      .sidebar { position: fixed; top: 50px; left: 0; height: calc(100vh - 50px); width: 280px; transform: translateX(-100%); transition: transform .25s ease; }
      .sidebar.open { transform: translateX(0); }
      .content { padding: 18px; }
      .hamburger { display: inline-flex; }
    }

    /* Visually hidden (for a11y) */
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</head>
<body>
  <!-- ============================= TOP BAR ============================== -->
  <div class="w3-topbar" role="navigation" aria-label="Top navigation">
    <button class="hamburger" id="btnHamburger" aria-label="Open menu" aria-controls="sidebar" aria-expanded="false">
      <!-- Hamburger Icon -->
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
    </button>

    <div class="brand" aria-label="Site logo">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true"><rect width="100" height="100" rx="20" fill="#fff" opacity=".15"/><path d="M20 60 L50 20 L80 60 M50 35 L50 80" stroke="#fff" stroke-width="8" fill="none" stroke-linecap="round"/></svg>
      W3Travels
    </div>

    <nav class="w3-nav" aria-label="Primary">
      <div class="dropdown" data-dropdown>
        <button aria-haspopup="true" aria-expanded="false">Destinations
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <div class="dropdown-menu" role="menu">
          <a href="#" data-link="paris">Paris</a>
          <a href="#" data-link="tokyo">Tokyo</a>
          <a href="#" data-link="newyork">New York</a>
          <a href="#" data-link="sydney">Sydney</a>
          <a href="#" data-link="dubai">Dubai</a>
        </div>
      </div>

      <div class="dropdown" data-dropdown>
        <button aria-haspopup="true" aria-expanded="false">Tips
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <div class="dropdown-menu" role="menu">
          <a href="#" data-section="budget">Budget Travel</a>
          <a href="#" data-section="safety">Safety</a>
          <a href="#" data-section="gear">Gear & Packing</a>
          <a href="#" data-section="food">Local Food</a>
        </div>
      </div>

      <div class="dropdown" data-dropdown>
        <button aria-haspopup="true" aria-expanded="false">Tools
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <div class="dropdown-menu" role="menu">
          <a href="#" data-tool="bmi">Flight Cost Estimator</a>
          <a href="#" data-tool="weather">Weather Lookup</a>
          <a href="#" data-tool="converter">Currency Converter</a>
        </div>
      </div>

      <a href="#about">About</a>

      <div class="w3-search">
        <label for="q" class="sr-only">Search</label>
        <input type="search" id="q" placeholder="Search destinations..." />
        <button class="theme-toggle" id="themeToggle" title="Toggle theme" aria-pressed="false">
          <span aria-hidden="true">🌓</span> Theme
        </button>
      </div>
    </nav>
  </div>

  <!-- ============================= LAYOUT ============================== -->
  <div class="layout">
    <!-- SIDEBAR (W3 left menu style with accordions) -->
    <aside class="sidebar" id="sidebar" aria-label="Sidebar Navigation">
      <h3>Destinations</h3>
      <a class="side-link" href="#home" data-section="home">🏠 Home</a>
      <div class="accordion open" data-acc>
        <div class="acc-header">Europe <span>▾</span></div>
        <div class="acc-body">
          <a href="#" data-link="paris">Paris</a>
          <a href="#" data-link="rome">Rome</a>
          <a href="#" data-link="london">London</a>
        </div>
      </div>
      <div class="accordion" data-acc>
        <div class="acc-header">Asia <span>▸</span></div>
        <div class="acc-body">
          <a href="#" data-link="tokyo">Tokyo</a>
          <a href="#" data-link="bangkok">Bangkok</a>
          <a href="#" data-link="singapore">Singapore</a>
        </div>
      </div>
      <div class="accordion" data-acc>
        <div class="acc-header">Americas <span>▸</span></div>
        <div class="acc-body">
          <a href="#" data-link="newyork">New York</a>
          <a href="#" data-link="rio">Rio de Janeiro</a>
          <a href="#" data-link="vancouver">Vancouver</a>
        </div>
      </div>
      <div class="accordion" data-acc>
        <div class="acc-header">Oceania <span>▸</span></div>
        <div class="acc-body">
          <a href="#" data-link="sydney">Sydney</a>
          <a href="#" data-link="auckland">Auckland</a>
        </div>
      </div>
      <div class="accordion" data-acc>
        <div class="acc-header">Middle East <span>▸</span></div>
        <div class="acc-body">
          <a href="#" data-link="dubai">Dubai</a>
          <a href="#" data-link="doha">Doha</a>
        </div>
      </div>
      <p class="side-note">Tip: Use the search bar to filter destinations quickly.</p>
    </aside>

    <!-- CONTENT -->
    <main class="content" id="main" tabindex="-1">
      <nav class="breadcrumb">Home / Destinations / <span id="crumb">Overview</span></nav>
      <h1 id="title">Welcome to W3Travels 🌍</h1>
      <p class="lead">A W3Schools-style travel portal with identical layout patterns: top bar, collapsible left menu, example/code sections, and responsive behavior — adapted for trips, not tutorials.</p>

      <!-- Intro cards -->
      <section class="grid mt-16">
        <article class="card col-6">
          <div class="card-header">Start Exploring</div>
          <div class="card-body">
            Browse cities by region using the left menu. Click a destination to load a W3-styled page with highlights, an example block, and a live "Try It" preview for itinerary snippets.
          </div>
        </article>
        <article class="card col-6">
          <div class="card-header">What’s Included</div>
          <div class="card-body">
            Pixel-close W3 navbar, dropdowns, accordions, example/code blocks with copy and run buttons, breadcrumbs, pagination, dark mode, and responsive sidebar.
          </div>
        </article>
      </section>

      <!-- Example / Code Block (W3 look) -->
      <div class="example mt-16" id="ex-itinerary">
        <div class="ex-header">
          <span class="ex-title">Example: 1‑Day Paris Itinerary (copy + try it)</span>
          <div class="ex-actions">
            <button class="btn" data-copy="#code-paris">Copy</button>
            <button class="btn" data-run="#code-paris">Try It »</button>
          </div>
        </div>
        <pre class="code" id="code-paris">&lt;section class="itinerary" style="font:16px/1.5 system-ui; padding:16px"&gt;
  &lt;h2 style="margin:0 0 8px"&gt;Paris in a Day&lt;/h2&gt;
  &lt;ol style="padding-left:18px"&gt;
    &lt;li&gt;Sunrise at &lt;strong&gt;Trocadéro&lt;/strong&gt; (Eiffel views).&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Louvre&lt;/strong&gt; highlights (Mona Lisa, Winged Victory).&lt;/li&gt;
    &lt;li&gt;Lunch in Le Marais — falafel or crêpes.&lt;/li&gt;
    &lt;li&gt;Seine cruise at golden hour.&lt;/li&gt;
    &lt;li&gt;Night view from &lt;strong&gt;Montmartre&lt;/strong&gt;.&lt;/li&gt;
  &lt;/ol&gt;
&lt;/section&gt;</pre>
      </div>

      <div class="note">Note: The "Try It" button opens a modal with your snippet rendered live (like W3 Tryit). No backend needed — it uses <code>srcdoc</code>.</div>

      <!-- Pagination (W3 look) -->
      <div class="pagination" aria-label="Pagination">
        <a href="#" class="prev">❮ Previous</a>
        <a href="#" class="active">1</a>
        <a href="#">2</a>
        <a href="#">3</a>
        <a href="#" class="next">Next ❯</a>
      </div>

      <!-- Secondary Examples (notes, warnings) -->
      <div class="warning">Warning: Don’t paste untrusted code into the Try It preview.</div>
      <div class="success">Success: Your layout is now an almost drop-in W3 clone for a travel niche.</div>

      <!-- Placeholder About anchor -->
      <h2 id="about" class="mt-16">About This Template</h2>
      <p>This is a single-file build crafted to mimic W3Schools’ core UX patterns while being safe to publish. You can split CSS/JS into separate files later if you prefer.</p>
    </main>
  </div>

  <!-- ============================= FOOTER ============================== -->
  <footer class="footer" role="contentinfo">
    <div class="footer-inner">
      <div>
        <h4>Explore</h4>
        <a href="#" data-link="paris">Paris</a>
        <a href="#" data-link="tokyo">Tokyo</a>
        <a href="#" data-link="newyork">New York</a>
        <a href="#" data-link="sydney">Sydney</a>
        <a href="#" data-link="dubai">Dubai</a>
      </div>
      <div>
        <h4>Resources</h4>
        <a href="#" data-section="budget">Budget Travel</a>
        <a href="#" data-section="safety">Safety Tips</a>
        <a href="#" data-section="gear">Packing Lists</a>
        <a href="#" data-section="food">Food Guides</a>
      </div>
      <div>
        <h4>Company</h4>
        <a href="#about">About</a>
        <a href="#" id="openContact">Contact</a>
        <a href="#">Privacy</a>
        <a href="#">Terms</a>
      </div>
      <div>
        <h4>Follow</h4>
        <a href="#">Twitter</a>
        <a href="#">Instagram</a>
        <a href="#">YouTube</a>
        <a href="#">Newsletter</a>
      </div>
    </div>
    <div class="footer-bottom">
      <span>© 2025 W3Travels — Built with a W3Schools-style template</span>
      <span>Theme: <strong id="themeState">Light</strong></span>
    </div>
  </footer>

  <!-- ============================= MODALS ============================== -->
  <dialog id="tryitModal" style="border:none; padding:0; width:min(1000px, 92vw);">
    <div style="display:flex; align-items:center; justify-content:space-between; background:#111; color:#fff; padding:10px 12px;">
      <strong>Try It Preview</strong>
      <button id="closeTryit" class="btn" style="background:#333; color:#fff; border-color:#444;">Close ✕</button>
    </div>
    <iframe id="tryitFrame" title="Try It Result" style="width:100%; height:70vh; border:0; display:block;"></iframe>
  </dialog>

  <dialog id="contactModal" style="border:none; padding:0; width:min(720px, 94vw);">
    <form method="dialog" style="background:#fff; color:#000;">
      <div style="display:flex; align-items:center; justify-content:space-between; background:#f1f1f1; padding:10px 12px; border-bottom:1px solid #ccc;">
        <strong>Contact Us</strong>
        <button value="cancel" class="btn">Close ✕</button>
      </div>
      <div style="padding:16px; display:grid; gap:12px;">
        <label>Name<br><input type="text" style="width:100%; padding:8px; border:1px solid #ccc"></label>
        <label>Email<br><input type="email" style="width:100%; padding:8px; border:1px solid #ccc"></label>
        <label>Message<br><textarea rows="5" style="width:100%; padding:8px; border:1px solid #ccc"></textarea></label>
      </div>
      <div style="padding:12px; background:#f9f9f9; text-align:right; border-top:1px solid #eee;">
        <button class="btn" value="submit">Send</button>
      </div>
    </form>
  </dialog>

  <!-- ============================= DATA & TEMPLATES ============================== -->
  <template id="tpl-destination">
    <section>
      <h1 class="mt-0"></h1>
      <p class="lead"></p>

      <div class="grid mt-16">
        <article class="card col-4">
          <div class="card-header">Top Sights</div>
          <div class="card-body sights"></div>
        </article>
        <article class="card col-4">
          <div class="card-header">Best Time to Visit</div>
          <div class="card-body timing"></div>
        </article>
        <article class="card col-4">
          <div class="card-header">Local Tips</div>
          <div class="card-body tips"></div>
        </article>
      </div>

      <div class="example mt-16">
        <div class="ex-header">
          <span class="ex-title">Example Itinerary Snippet</span>
          <div><button class="btn" data-copy=".dyn-code">Copy</button> <button class="btn" data-run=".dyn-code">Try It »</button></div>
        </div>
        <pre class="code dyn-code"></pre>
      </div>

      <div class="pagination" aria-label="Pagination">
        <a href="#" class="prev">❮ Previous</a>
        <a href="#" class="active">1</a>
        <a href="#">2</a>
        <a href="#">3</a>
        <a href="#" class="next">Next ❯</a>
      </div>
    </section>
  </template>

  <script>
    // =============================================================
    // JS: W3Schools-like interactions (dropdowns, accordions, sidebar,
    // search filter, copy/run code, theme toggle, modal try-it)
    // =============================================================

    // -------------------- Data --------------------
    const DESTINATIONS = {
      paris: {
        title: 'Paris, France',
        lead: 'Art, fashion, and patisseries — the City of Light charms in every season.',
        sights: ['Eiffel Tower', 'Louvre Museum', 'Montmartre & Sacré-Cœur', 'Seine River Cruise', 'Notre‑Dame (exterior view)'],
        timing: 'April–June & September–November (mild weather, fewer crowds).',
        tips: 'Learn a few French phrases, prebook major sights, and explore neighborhoods on foot.',
        code: `<section style="font:16px/1.5 system-ui; padding:16px">
  <h2 style="margin:0 0 8px">48 Hours in Paris</h2>
  <ul style="padding-left:18px; margin:0">
    <li>Day 1: Louvre → Tuileries → Île de la Cité → Latin Quarter</li>
    <li>Day 2: Musée d'Orsay → Champs-Élysées → Arc de Triomphe → Eiffel Tower</li>
  </ul>
</section>`
      },
      tokyo: {
        title: 'Tokyo, Japan',
        lead: 'A neon-drenched metropolis where tradition meets ultramodern tech.',
        sights: ['Shibuya Crossing', 'Senso‑ji Temple', 'TeamLab Planets', 'Tsukiji Outer Market', 'Tokyo Skytree'],
        timing: 'March–May (sakura) & October–November (foliage).',
        tips: 'Grab a Suica card, respect queueing culture, and slurp ramen loudly (it’s fine!).',
        code: `<section style="font:16px/1.5 system-ui; padding:16px">
  <h2 style="margin:0 0 8px">Tokyo Food Crawl</h2>
  <ol style="padding-left:18px; margin:0">
    <li>Breakfast: tamagoyaki near Tsukiji</li>
    <li>Lunch: tonkatsu in Ginza</li>
    <li>Snack: crepes in Harajuku</li>
    <li>Dinner: yakitori in Shinjuku Omoide Yokocho</li>
  </ol>
</section>`
      },
      newyork: {
        title: 'New York City, USA',
        lead: 'Skyscrapers, Broadway, bagels, and a skyline that never sleeps.',
        sights: ['Statue of Liberty', 'Central Park', 'The Met', 'High Line', 'Brooklyn Bridge'],
        timing: 'April–June & September–October (pleasant temps).',
        tips: 'Walk more than you Uber, use the Subway, and explore boroughs beyond Manhattan.',
        code: `<section style="font:16px/1.5 system-ui; padding:16px">
  <h2 style="margin:0 0 8px">Classic NYC Morning</h2>
  <p>Grab a bagel, stroll Central Park, then hit a museum (The Met or MoMA).</p>
</section>`
      },
      sydney: {
        title: 'Sydney, Australia',
        lead: 'Sun-splashed icons, coastal walks, and a laidback harbor lifestyle.',
        sights: ['Sydney Opera House', 'Bondi to Coogee Walk', 'Harbour Bridge', 'Manly Ferry', 'Darling Harbour'],
        timing: 'September–November & March–May (shoulder seasons).',
        tips: 'Wear sunscreen, tap your Opal card, and try a flat white.',
        code: `<section style="font:16px/1.5 system-ui; padding:16px">
  <h2 style="margin:0 0 8px">Bondi Day</h2>
  <p>Surf, sun, and seafood. End with a cliffside sunset on the coastal walk.</p>
</section>`
      },
      dubai: {
        title: 'Dubai, UAE',
        lead: 'Futuristic architecture, desert adventures, and opulent malls.',
        sights: ['Burj Khalifa', 'Dubai Mall', 'Palm Jumeirah', 'Old Dubai (Al Fahidi)', 'Desert Safari'],
        timing: 'November–March (cooler).',
        tips: 'Dress modestly in old quarters, hydrate constantly, and prebook Burj tickets.',
        code: `<section style="font:16px/1.5 system-ui; padding:16px">
  <h2 style="margin:0 0 8px">Desert Evening</h2>
  <ul style="padding-left:18px; margin:0">
    <li>Dune bashing</li>
    <li>Sunset photo stop</li>
    <li>BBQ dinner & Tanoura show</li>
  </ul>
</section>`
      }
    };

    // -------------------- Helpers --------------------
    const $ = (sel, el = document) => el.querySelector(sel);
    const $$ = (sel, el = document) => Array.from(el.querySelectorAll(sel));

    function setBreadcrumb(name) {
      $('#crumb').textContent = name || 'Overview';
      document.title = `${name ? name + ' – ' : ''}W3Travels — World Explorer`;
    }

    function createList(items) {
      const ul = document.createElement('ul');
      ul.style.paddingLeft = '18px';
      items.forEach(it => { const li = document.createElement('li'); li.textContent = it; ul.appendChild(li); });
      return ul;
    }

    // -------------------- Dropdowns --------------------
    $$('.dropdown [aria-haspopup]')
      .forEach(btn => btn.addEventListener('click', e => {
        const dd = e.currentTarget.parentElement;
        const open = dd.classList.toggle('open');
        btn.setAttribute('aria-expanded', open);
        // close others
        $$('.dropdown').forEach(d => { if (d !== dd) { d.classList.remove('open'); d.querySelector('[aria-haspopup]')?.setAttribute('aria-expanded','false'); } });
      }));

    document.addEventListener('click', e => {
      if (!e.target.closest('.dropdown')) {
        $$('.dropdown').forEach(d => { d.classList.remove('open'); d.querySelector('[aria-haspopup]')?.setAttribute('aria-expanded','false'); });
      }
    });

    // -------------------- Sidebar: hamburger toggle --------------------
    const sidebar = $('#sidebar');
    const btnHamburger = $('#btnHamburger');
    if (btnHamburger) {
      btnHamburger.addEventListener('click', () => {
        const open = !sidebar.classList.contains('open');
        sidebar.classList.toggle('open', open);
        btnHamburger.setAttribute('aria-expanded', String(open));
      });
    }

    // -------------------- Sidebar: accordions --------------------
    $$('.accordion').forEach(acc => {
      const head = $('.acc-header', acc);
      head.addEventListener('click', () => {
        const willOpen = !acc.classList.contains('open');
        $$('.accordion').forEach(a => { a.classList.remove('open'); $('.acc-header span', a).textContent = '▸'; });
        if (willOpen) { acc.classList.add('open'); $('.acc-header span', acc).textContent = '▾'; }
      });
    });

    // -------------------- Search filter (sidebar links) --------------------
    $('#q').addEventListener('input', e => {
      const v = e.target.value.toLowerCase();
      $$('[data-link]').forEach(a => {
        const t = a.textContent.toLowerCase();
        a.style.display = t.includes(v) ? '' : 'none';
      });
    });

    // -------------------- Copy + Try It --------------------
    function copyFrom(selector, scope = document) {
      const node = scope.querySelector(selector);
      if (!node) return;
      const text = node.textContent;
      navigator.clipboard.writeText(text).then(() => {
        toast('Copied to clipboard');
      }, () => {
        // fallback
        const ta = document.createElement('textarea');
        ta.value = text; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove();
        toast('Copied');
      });
    }

    function runFrom(selector, scope = document) {
      const node = scope.querySelector(selector);
      if (!node) return;
      const html = node.textContent;
      const dlg = $('#tryitModal'); const frame = $('#tryitFrame');
      frame.setAttribute('srcdoc', html);
      if (typeof dlg.showModal === 'function') dlg.showModal(); else dlg.setAttribute('open','');
    }

    document.addEventListener('click', e => {
      const copyBtn = e.target.closest('[data-copy]');
      const runBtn = e.target.closest('[data-run]');
      if (copyBtn) { e.preventDefault(); copyFrom(copyBtn.getAttribute('data-copy'), copyBtn.closest('.example') || document); }
      if (runBtn) { e.preventDefault(); runFrom(runBtn.getAttribute('data-run'), runBtn.closest('.example') || document); }
    });

    $('#closeTryit').addEventListener('click', () => $('#tryitModal').close());

    // -------------------- Routing-ish (load destination into main) --------------------
    function renderDestination(key) {
      const data = DESTINATIONS[key]; if (!data) return;
      const main = $('#main');
      main.innerHTML = '';
      const crumb = document.createElement('nav'); crumb.className = 'breadcrumb'; crumb.textContent = `Home / Destinations / ${data.title}`; main.appendChild(crumb);

      const tpl = $('#tpl-destination');
      const node = tpl.content.cloneNode(true);
      node.querySelector('h1').textContent = data.title;
      node.querySelector('.lead').textContent = data.lead;
      node.querySelector('.sights').appendChild(createList(data.sights));
      node.querySelector('.timing').textContent = data.timing;
      node.querySelector('.tips').textContent = data.tips;
      node.querySelector('.dyn-code').textContent = data.code;
      main.appendChild(node);

      setBreadcrumb(data.title);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    document.addEventListener('click', e => {
      const link = e.target.closest('[data-link]');
      if (link) {
        e.preventDefault();
        const key = link.getAttribute('data-link');
        renderDestination(key);
        if (sidebar.classList.contains('open')) sidebar.classList.remove('open');
      }
    });

    // -------------------- Tools / Sections (demo) --------------------
    function renderSection(name) {
      const main = $('#main');
      const H = {
        budget: {
          h: 'Budget Travel',
          p: 'Stretch your money further with passes, public transport, and street food.'
        },
        safety: { h: 'Safety Tips', p: 'Blend in, keep copies of docs, share your live location with a trusted friend.' },
        gear: { h: 'Gear & Packing', p: 'Carry-on only if possible. Pack layers, universal adapter, and a small first-aid kit.' },
        food: { h: 'Local Food Guides', p: 'Eat where queues form. Learn key phrases to order confidently.' }
      };
      const d = H[name]; if (!d) return;
      main.innerHTML = `
        <nav class="breadcrumb">Home / Tips / ${d.h}</nav>
        <h1>${d.h}</h1>
        <p class="lead">${d.p}</p>

        <div class="example mt-16">
          <div class="ex-header">
            <span class="ex-title">Example Packing List</span>
            <div><button class="btn" data-copy="#pack-code">Copy</button> <button class="btn" data-run="#pack-code">Try It »</button></div>
          </div>
          <pre class="code" id="pack-code">&lt;ul style="font:16px/1.5 system-ui; padding-left:18px"&gt;
  &lt;li&gt;Passport + copies&lt;/li&gt;
  &lt;li&gt;Universal adapter&lt;/li&gt;
  &lt;li&gt;Power bank&lt;/li&gt;
  &lt;li&gt;Travel-size toiletries&lt;/li&gt;
  &lt;li&gt;Light rain jacket&lt;/li&gt;
&lt;/ul&gt;</pre>
        </div>
      `;
      setBreadcrumb(d.h);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    document.addEventListener('click', e => {
      const sec = e.target.closest('[data-section]');
      if (sec) { e.preventDefault(); renderSection(sec.getAttribute('data-section')); }
    });

    // -------------------- Contact modal --------------------
    $('#openContact')?.addEventListener('click', (e) => {
      e.preventDefault();
      const dlg = $('#contactModal');
      if (typeof dlg.showModal === 'function') dlg.showModal(); else dlg.setAttribute('open','');
    });

    // -------------------- Theme toggle (persist) --------------------
    const themeToggle = $('#themeToggle');
    const themeState = $('#themeState');
    function applyTheme(mode) {
      document.body.classList.toggle('dark', mode === 'dark');
      localStorage.setItem('theme', mode);
      themeToggle.setAttribute('aria-pressed', String(mode === 'dark'));
      themeState.textContent = mode === 'dark' ? 'Dark' : 'Light';
    }
    const savedTheme = localStorage.getItem('theme') || 'light';
    applyTheme(savedTheme);
    themeToggle.addEventListener('click', () => {
      applyTheme(document.body.classList.contains('dark') ? 'light' : 'dark');
    });

    // -------------------- Toast (tiny) --------------------
    let toastTimer = null;
    function toast(msg) {
      let el = document.getElementById('toast');
      if (!el) {
        el = document.createElement('div');
        el.id = 'toast';
        Object.assign(el.style, {
          position: 'fixed', bottom: '20px', left: '50%', transform: 'translateX(-50%)',
          background: '#111', color: '#fff', padding: '8px 12px', borderRadius: '2px', boxShadow: '0 2px 6px rgba(0,0,0,.25)', zIndex: 2000
        });
        document.body.appendChild(el);
      }
      el.textContent = msg;
      el.style.opacity = '1';
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => { el.style.opacity = '0'; }, 1500);
    }

    // -------------------- Init: default content --------------------
    setBreadcrumb('Overview');
  </script>
</body>
</html>
